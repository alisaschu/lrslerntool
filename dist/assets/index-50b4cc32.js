import{S as H,P as E,W as N,O as S,T,a as W,M as q,b as L,c as k,A as V,d as I,D as K,e as X,G as Y,f as A,g as C,V as d,C as Z,B as J,L as Q,h as U,R as _,i as $,j as O}from"./vendor-07d6cc25.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const P of c.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&r(P)}).observe(document,{childList:!0,subtree:!0});function s(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=s(t);fetch(t.href,c)}})();const i=new H,l=new E(75,window.innerWidth/window.innerHeight,.1,1e3),p=new N({canvas:document.querySelector("#bg")});p.setPixelRatio(window.devicePixelRatio);p.setSize(window.innerWidth,window.innerHeight);l.position.setZ(30);p.render(i,l);new S(l,p.domElement);let y=null,a=null,g,b,x;const ee=new T().load("hogwarts.jpg");i.background=ee;const oe=new W(window.innerWidth,window.innerHeight),ne=new q({color:0,transparent:!0,opacity:.5}),B=new L(oe,ne);B.position.z=-30;i.add(B);const M=new k(16777215,100,100);M.position.set(1,10,2);i.add(M);const te=new V(16777215);i.add(te);new I(M,1);const j=new K(16777215,5);j.position.copy(l.position);i.add(j);const n=new X(16777215,0);i.add(n);const u=new Y;u.load("models/snitch2/scene.gltf",function(e){e.scene.scale.set(.01,.01,.01),g=new A(e.scene);const o=e.animations,s=C.findByName(o,"Alas|Action");g.clipAction(s).play(),y=e.scene,i.add(e.scene)},void 0,function(e){console.error(e)});u.load("models/traveler/scene.gltf",function(e){a=e.scene,a.rotation.y=-1,a.position.z=-2,a.position.x=25,a.position.y=-55,a.scale.set(5,5,5),b=new A(a);const o=e.animations,s=C.findByName(o,"Animation");b.clipAction(s).play(),i.add(a)},void 0,function(e){console.error(e)});const m=[],w=new d,h=new d,D=new d;u.load("models/suitcase/scene.gltf",function(e){e.scene.scale.set(.25,.25,.25),e.scene.position.y=-143,e.scene.position.x=-29,e.scene.rotation.y=.7,m.push(e.scene),e.scene.traverse(function(o){o instanceof L&&(o.userData.type="suitcase")}),w.copy(e.scene.position),i.add(e.scene)},void 0,function(e){console.error(e)});u.load("models/potion/scene.gltf",function(e){e.scene.scale.set(5.5,5.5,5.5),e.scene.position.y=-135,e.scene.position.x=0,e.scene.rotation.y=.7,x=new A(e.scene);const o=e.animations,s=C.findByName(o,"Take 001");x.clipAction(s).play(),m.push(e.scene),i.add(e.scene),e.scene.traverse(function(t){t instanceof L&&(t.userData.type="potion")}),h.copy(e.scene.position),i.add(e.scene)},void 0,function(e){console.error(e)});u.load("models/beens/scene.gltf",function(e){e.scene.scale.set(3,3,3),e.scene.position.y=-136,e.scene.position.x=28,e.scene.position.z=-3,m.push(e.scene),e.scene.traverse(function(o){o instanceof L&&(o.userData.type="beens")}),D.copy(e.scene.position),i.add(e.scene),i.add(e.scene)},void 0,function(e){console.error(e)});const ie=[new d(-40,15,0),new d(-25,-5,0),new d(40,0,0),new d(5,-20,0),new d(10,0,0)],R=new Z(ie,!0),se=new J().setFromPoints(R.getPoints(50)),ce=new Q({color:16711680});new U(se,ce);function G(){const e=document.body.getBoundingClientRect().top;a&&a.position.x==25&&(a.rotation.y+=.01),l.position.y=e*.09}document.body.onscroll=G;G();const v=new _,f=new $;function ae(e){var o=p.domElement.getBoundingClientRect();f.x=(e.clientX-o.left)/(o.width-o.left)*2-1,f.y=-((e.clientY-o.top)/(o.bottom-o.top))*2+1}window.addEventListener("mousemove",ae);function z(){v.setFromCamera(f,l);const e=v.intersectObjects(m);if(e.length>0){const o=e[0].object;document.body.style.cursor="pointer",n.angle=Math.PI/5,n.penumbra=.2,n.distance=30,n.decay=0,n.position.x+=15,o.userData.type==="suitcase"?(n.position.copy(w),n.position.y+=20,n.position.z+=10,n.intensity=25,n.target.position.copy(w),i.add(n.target),n.color.setHex(16777215),console.log("spotlight: "),console.log(n.position),console.log("Koffer:"),console.log(w)):o.userData.type==="potion"?(console.log("Potion selected"),n.position.copy(h),n.position.y+=10,n.position.z+=10,n.intensity=50,n.color.setHex(9951639),n.target.position.copy(h),i.add(n.target),console.log("spotlight:"),console.log(n.position),console.log("Glass:"),console.log(h)):o.userData.type==="beens"&&(n.position.copy(D),n.position.y+=10,n.position.z+=5,n.position.x-=3,n.intensity=15,n.color.setHex(16777215),n.target.position.copy(D),i.add(n.target))}else n.intensity=0,document.body.style.cursor="auto"}window.addEventListener("click",e=>{var o=p.domElement.getBoundingClientRect();f.x=(e.clientX-o.left)/(o.width-o.left)*2-1,f.y=-((e.clientY-o.top)/(o.bottom-o.top))*2+1,v.setFromCamera(f,l);const s=v.intersectObjects(m);if(s.length>0){const r=s[0].object;r.userData.type==="suitcase"?window.location.href="level1.html":r.userData.type==="potion"?window.location.href="level2.html":r.userData.type==="beens"&&(window.location.href="level3.html")}});window.requestAnimationFrame(z);const re=new O,le=new O,de=new O;function F(){g&&g.update(re.getDelta()),b&&b.update(le.getDelta()),x&&x.update(de.getDelta());const o=Date.now()/1500%6/6,s=R.getPointAt(o);y&&(y.position.copy(s),y.lookAt(l.position)),z(),requestAnimationFrame(F),p.render(i,l)}F();
